-- ============================================================
-- المرحلة 5️⃣ — تعطيل النظام القديم (CamelCase)
-- ============================================================
-- هذا الملف يعطل الجداول القديمة بعد التأكد أن Backend لا يستخدمها
-- تاريخ: 2025-01-XX
-- ============================================================
-- ⚠️ تحذير: نفذ هذا فقط بعد التأكد أن Backend لا يستخدم CamelCase
-- ============================================================

-- تعطيل الجداول القديمة بإعادة تسميتها
ALTER TABLE IF EXISTS "JournalEntry" RENAME TO "_OLD_JournalEntry";
ALTER TABLE IF EXISTS "JournalPosting" RENAME TO "_OLD_JournalPosting";
ALTER TABLE IF EXISTS "Account" RENAME TO "_OLD_Account";

-- ============================================================
-- التحقق من النتائج
-- ============================================================

-- التحقق من الجداول المعطلة
SELECT 
  schemaname,
  tablename
FROM pg_tables
WHERE tablename LIKE '_OLD_%'
ORDER BY tablename;

-- ============================================================
-- ✅ تم التنفيذ بنجاح
-- ============================================================
-- ملاحظة: يمكن حذف الجداول المعطلة لاحقاً بعد التأكد التام
-- DROP TABLE IF EXISTS "_OLD_JournalEntry" CASCADE;
-- DROP TABLE IF EXISTS "_OLD_JournalPosting" CASCADE;
-- DROP TABLE IF EXISTS "_OLD_Account" CASCADE;
-- ============================================================
