# ุฏููู ุงูุงุฎุชุจุงุฑุงุช E2E - Full Workflow Simulation

## ๐ฏ ุงููุฏู ุงูุญูููู ูู ุงูุงุฎุชุจุงุฑุงุช

ุงูุงุฎุชุจุงุฑุงุช E2E ููุณุช ููุท ููุชุญ ุงูุดุงุดุงุชุ ุจู ููุญุงูุงุฉ **ุชุฏูู ุงูุนูู ุงููุงูู** ูููุณุชุฎุฏู ุงูุญูููู.

## ๐ ุฃููุงุน ุงูุงุฎุชุจุงุฑุงุช

### 1. ุงูุงุฎุชุจุงุฑุงุช ุงูุฃุณุงุณูุฉ (`*-spec.js`)
**ุงููุฏู:** ุงูุชุญูู ุงูุณุฑูุน ูู ุฃู ุงูุดุงุดุงุช ุชูุชุญ ูุชุนูู

**ูุง ูุชู ุงุฎุชุจุงุฑู:**
- โ ูุชุญ ุงูุดุงุดุฉ ุจูุฌุงุญ
- โ ุงูุชุญูู ูู ูุฌูุฏ ุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ
- โ ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ุญุฑุฌุฉ

**ุงูุงุณุชุฎุฏุงู:**
```bash
npm run test:playwright
```

### 2. ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ (`*-full.spec.js`) โญ
**ุงููุฏู:** ูุญุงูุงุฉ ูุงููุฉ ูุชุฏูู ุงูุนูู ูููุณุชุฎุฏู ุงูุญูููู

**ูุง ูุชู ุงุฎุชุจุงุฑู:**

#### โ ุงูุชูุงุนูุงุช ุงููุงููุฉ:
- ุงูุถุบุท ุนูู ุฌููุน ุงูุฃุฒุฑุงุฑ (Create, Update, Delete, PDF, Excel)
- ุฅุฏุฎุงู ุงูุจูุงูุงุช ูู ุงูููุฑูุงุช
- ุงุฎุชูุงุฑ ููุงุชุฑ ูุชูุงุฑูุฎ
- ุงูููุฑ ุนูู ุงูููุงุฆู ูุงูุฌุฏุงูู
- ุงูุชููู ุจูู ุงูุตูุญุงุช

#### โ ุงูุชุญูู ูู ุงูุจูุงูุงุช:
- ููุงุฑูุฉ ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุชุญูู ูู ุงูุชูุงุฒู ุงููุญุงุณุจู (Debit = Credit)
- ุงูุชุญูู ูู ุตุญุฉ ุงูุญุณุงุจุงุช ูุงูุฅุฌูุงููุงุช
- ุงูุชุญูู ูู ุนุฏุฏ ุงูุณุฌูุงุช

#### โ ุงูุฃุฏุงุก:
- ููุงุณ ุณุฑุนุฉ ุชุญููู ุงูุตูุญุงุช
- ุงูุชุญูู ูู ุนุฏู ุชุฌูุฏ ุงููุงุฌูุฉ
- ุชุญุฐูุฑ ุนูุฏ ุงูุชุญููู ุงูุจุทูุก (> 10 ุซูุงูู)

#### โ ุงูุฃุฎุทุงุก:
- ุฃู ุฎุทุฃ ุญุฑุฌ ูู Console = ูุดู ููุฑู
- ุฃู ุฎุทุฃ ูู API = ูุดู ููุฑู
- ุนุฏู ุชูุงุฒู ูุญุงุณุจู = ูุดู ููุฑู
- ุฃู ุฒุฑ ูุง ูุณุชุฌูุจ = ูุดู ููุฑู

**ุงูุงุณุชุฎุฏุงู:**
```bash
npm run test:playwright:full
```

## ๐ ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ ุงููุชุงุญุฉ

### 1. `02-accounting-full.spec.js` - ุงููุญุงุณุจุฉ ุงููุงููุฉ

**ูุง ูุชู ุงุฎุชุจุงุฑู:**
1. ูุชุญ ุดุฌุฑุฉ ุงูุญุณุงุจุงุช
2. ูุชุญ ุงููููุฏ ุงูููููุฉ
3. ุชุทุจูู ููุงุชุฑ (ุชุงุฑูุฎุ ุญุงูุฉุ ุญุณุงุจ)
4. ุงูุชุญูู ูู ุฅุฌูุงูู ุงููุฏูู ูุงูุฏุงุฆู
5. **ุงูุชุญูู ูู ุงูุชูุงุฒู**: Debit ูุฌุจ ุฃู ูุณุงูู Credit
6. ุงุฎุชุจุงุฑ ุฒุฑ ุงูุฅูุดุงุก (ูุชุญ Modal)
7. ุงุฎุชุจุงุฑ ุฃุฒุฑุงุฑ ุงูุชุตุฏูุฑ (PDF, Excel)
8. ุงูุชูุงุนู ูุน ููุฏ ูุญุฏุฏ (View)
9. ููุงุณ ุงูุฃุฏุงุก

**ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- ููุงุฑูุฉ ุงูุฅุฌูุงููุงุช ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุชุญูู ูู ุฃู ุงููููุฏ ุงูููุดูุฑุฉ ูุชูุงุฒูุฉ

### 2. `03-customers-full.spec.js` - ุงูุนููุงุก ุงููุงููุฉ

**ูุง ูุชู ุงุฎุชุจุงุฑู:**
1. ูุชุญ ุตูุญุฉ ุงูุนููุงุก
2. ุชุทุจูู ููุงุชุฑ ุงูุจุญุซ
3. **ุฅูุดุงุก ุนููู ุฌุฏูุฏ** (ููุก ุงูููุฑู ูุญูุธู)
4. ุงูุชุญูู ูู ุธููุฑ ุงูุนููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
5. ุงูุชุญูู ูู ุนุฏุฏ ุงูุนููุงุก ุงููุนุฑูุถ
6. ุงุฎุชุจุงุฑ ุฃุฒุฑุงุฑ ุงูุชุตุฏูุฑ
7. **ุชูุธูู ุงูุจูุงูุงุช**: ุญุฐู ุงูุนููู ุงููููุดุฃ ุจุนุฏ ุงูุงุฎุชุจุงุฑ

**ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- ุงูุชุญูู ูู ุฅูุดุงุก ุงูุนููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ููุงุฑูุฉ ุนุฏุฏ ุงูุนููุงุก ุงููุนุฑูุถ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 3. `04-suppliers-full.spec.js` - ุงูููุฑุฏูู ุงููุงููุฉ

**ูุง ูุชู ุงุฎุชุจุงุฑู:**
1. ูุชุญ ุตูุญุฉ ุงูููุฑุฏูู
2. ุชุทุจูู ููุงุชุฑ ุงูุจุญุซ
3. ุงูุชุญูู ูู ุงูุจุทุงูุงุช ูุงูููุงุชูุฑ
4. ุงูุชููู ุฅูู ููุงุชูุฑ ุงูููุฑุฏูู
5. ุงูุชุญูู ูู ุนุฏุฏ ุงูููุฑุฏูู
6. ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ

**ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- ููุงุฑูุฉ ุนุฏุฏ ุงูููุฑุฏูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 4. `05-employees-full.spec.js` - ุงูููุธููู ุงููุงููุฉ

**ูุง ูุชู ุงุฎุชุจุงุฑู:**
1. ูุชุญ ุตูุญุฉ ุงูููุธููู
2. ุงูุชุญูู ูู ุฅุฌูุงูู ุงูููุธููู
3. ุงุฎุชุจุงุฑ ุฒุฑ ุงูุฅูุดุงุก (ูุชุญ ุงูููุฑู)
4. ุงูุชููู ุฅูู ุจุทุงูุงุช ุงูููุธููู
5. ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ
6. ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ

**ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- ููุงุฑูุฉ ุนุฏุฏ ุงูููุธููู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 5. `06-pos-full.spec.js` - ููุทุฉ ุงูุจูุน ุงููุงููุฉ

**ูุง ูุชู ุงุฎุชุจุงุฑู:**
1. ูุชุญ ุตูุญุฉ POS
2. **ุงุฎุชูุงุฑ ูุฑุน** (China Town ุฃู ุฃู ูุฑุน ูุชุงุญ)
3. ุงูุชุญูู ูู ุดุงุดุฉ ุงููุงุชูุฑุฉ
4. ุงูุชุญูู ูู ูุฌูุฏ ุฃุฒุฑุงุฑ (ุฅุตุฏุงุฑ ุงููุงุชูุฑุฉุ ุทุฑููุฉ ุงูุฏูุน)
5. **ุงูุชุญูู ูู ุญุณุงุจ ุงูุฅุฌูุงูู** (ูุฌุจ ุฃู ูููู ุฑูู ุตุญูุญ)
6. ููุงุณ ุงูุฃุฏุงุก

**ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- ุงูุชุญูู ูู ูุฌูุฏ ุงููุฑูุน
- ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงููุทููุจุฉ ููู POS

### 6. `07-reports-full.spec.js` - ุงูุชูุงุฑูุฑ ุงููุงููุฉ

**ูุง ูุชู ุงุฎุชุจุงุฑู:**
1. ูุชุญ ุตูุญุฉ ุงูุชูุงุฑูุฑ
2. ูุชุญ ุชูุฑูุฑ ููุฒุงู ุงููุฑุงุฌุนุฉ
3. ุงูุชุญูู ูู ูุญุชูู ุงูุชูุฑูุฑ
4. **ุงูุชุญูู ูู ุงูุชูุงุฒู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**: 
   - ุญุณุงุจ ุฅุฌูุงูู ุงููุฏูู ูุงูุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุงูุชุฃูุฏ ูู ุฃู Debit = Credit
5. ุชุทุจูู ููุงุชุฑ ุงูุชูุฑูุฑ (ุชูุงุฑูุฎ)
6. ุงุฎุชุจุงุฑ ุชุตุฏูุฑ ุงูุชูุฑูุฑ (PDF, Excel)
7. ููุงุณ ุงูุฃุฏุงุก

**ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- ุญุณุงุจ ุฅุฌูุงูู ุงููุฏูู ูุงูุฏุงุฆู ูู `journal_postings`
- ุงูุชุญูู ูู ุงูุชูุงุฒู ุงููุญุงุณุจู
- ููุงุฑูุฉ ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ูุซุงู ุนููู: ุงุฎุชุจุงุฑ ุงูุชูุงุฑูุฑ

### ูุง ููุนูู ุงูุงุฎุชุจุงุฑ:

```javascript
// 1. ูุชุญ ุตูุญุฉ ุงูุชูุงุฑูุฑ
await page.goto('/reports');

// 2. ูุชุญ ุชูุฑูุฑ ููุฒุงู ุงููุฑุงุฌุนุฉ
await page.click('text=ููุฒุงู ุงููุฑุงุฌุนุฉ');

// 3. ุชุทุจูู ููุงุชุฑ
await page.fill('input[type="date"]', '2024-01-01');

// 4. ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
const dbResult = await db.query(`
  SELECT 
    SUM(jp.debit) as total_debit,
    SUM(jp.credit) as total_credit
  FROM journal_postings jp
  JOIN journal_entries je ON je.id = jp.journal_entry_id
  WHERE je.status = 'posted'
`);

// 5. ุงูุชุญูู ูู ุงูุชูุงุฒู
if (Math.abs(totalDebit - totalCredit) > 0.01) {
  throw new Error('Unbalanced!');
}

// 6. ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ
await page.click('button:has-text("PDF")');
```

## โ๏ธ ุงูุณููู ุงูุตุงุฑู

ุงูุงุฎุชุจุงุฑุงุช ุชูุดู ููุฑุงู ุนูุฏ:

| ุงูุฎุทุฃ | ุงููุชูุฌุฉ |
|------|---------|
| Console Error (Uncaught, ReferenceError) | โ FAIL |
| API Error (400, 500) | โ FAIL |
| ุนุฏู ุชูุงุฒู ูุญุงุณุจู (Debit โ Credit) | โ FAIL |
| ุฒุฑ ูุง ูุณุชุฌูุจ | โ FAIL |
| ุตูุญุฉ ูุง ุชุญูู | โ FAIL |
| CORS Error | โ FAIL |
| ุชุญููู ุจุทูุก (> 10s) | โ๏ธ Warning |

## ๐ ุงูุงุณุชุฎุฏุงู

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุงูุฃุณุงุณูุฉ:
```bash
npm run test:playwright
```

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ:
```bash
npm run test:playwright:full
```

### ุชุดุบูู ูุน ูุชุตูุญ ูุฑุฆู:
```bash
npm run test:playwright:full:headed
```

### ุชุดุบูู ุงุฎุชุจุงุฑ ูุญุฏุฏ:
```bash
npx playwright test tests/07-reports-full.spec.js
```

## ๐ ุงููุฎุฑุฌุงุช

ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ ุชูุชุฌ:
- โ ุฑุณุงุฆู ูุฌุงุญ ุชูุตูููุฉ ููู ุฎุทูุฉ
- ๐ ููุงุณุงุช ุงูุฃุฏุงุก (ููุช ุงูุชุญููู)
- ๐ ููุงุฑูุงุช ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุนูุฏ ุงููุดู
- ๐ธ ููุทุงุช ุดุงุดุฉ ุนูุฏ ุงููุดู
- ๐ ุชูุฑูุฑ HTML ุชูุตููู

## ๐ก ูุตุงุฆุญ

1. **ุงุณุชุฎุฏู ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ** ููุชุญูู ูู ุฌูุฏุฉ ุงููุธุงู ุงููุงููุฉ
2. **ุงุณุชุฎุฏู ุงูุงุฎุชุจุงุฑุงุช ุงูุฃุณุงุณูุฉ** ููุชุญูู ุงูุณุฑูุน ุจุนุฏ ุงูุชุบููุฑุงุช
3. **ุฑุงูุจ ููุงุณุงุช ุงูุฃุฏุงุก** - ุฃู ุชุญููู ุจุทูุก ูุฏ ูุดูุฑ ููุดููุฉ
4. **ุฑุงุฌุน ุงูุชูุงุฑูุฑ HTML** ูููู ุชูุงุตูู ุงูุงุฎุชุจุงุฑุงุช

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

ุฅุฐุง ูุดู ุงุฎุชุจุงุฑ:
1. ุฑุงุฌุน ููุทุฉ ุงูุดุงุดุฉ ุงููุญููุธุฉ
2. ุฑุงุฌุน ุชูุฑูุฑ HTML: `npx playwright show-report`
3. ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ
4. ุชุญูู ูู ุฃู ุงูุณูุฑูุฑ ูุนูู
5. ุชุญูู ูู ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู
