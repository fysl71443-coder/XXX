# إصلاح تقرير Business Day Sales

## المشكلة
التقرير لا يظهر بيانات رغم وجود قيود محاسبية (journal entries #1 و #2).

## الإصلاحات المطبقة

### 1. استخدام account_code OR account_number
**المشكلة**: التقرير كان يبحث فقط عن `account_code`، لكن بعض الحسابات قد تستخدم `account_number` فقط.

**الحل**: تحديث الاستعلام لاستخدام `account_code OR account_number`:
```sql
WHERE account_code = ANY($1::text[]) OR account_number = ANY($1::text[])
```

### 2. إضافة Debugging محسّن
- إضافة logging للتواريخ المستخدمة
- إضافة logging للحسابات الموجودة
- إضافة logging للقيود المحاسبية مع postings

## ملاحظات مهمة

### منطق Business Day
Business Day يبدأ من 09:00 AM وينتهي في 02:00 AM اليوم التالي.

مثال:
- Business Day لـ 19/01/2026 يبدأ من: 19/01/2026 09:00 AM
- وينتهي في: 20/01/2026 02:00 AM

إذا كان القيد بتاريخ 18/01/2026 21:00 (9 مساءً)، فهو في Business Day لـ 18/01/2026 (ليس 19/01/2026).

### للتحقق من البيانات
1. تحقق من تاريخ القيد المحاسبي
2. تأكد من أن التاريخ يقع ضمن نطاق Business Day المحدد
3. تحقق من أن الحسابات المستخدمة في القيد لها `account_code` أو `account_number` متطابق مع:
   - `4111` أو `4112` لـ china_town
   - `4121` أو `4122` لـ place_india

### Debugging
التقرير الآن يطبع:
- عدد القيود في نطاق التاريخ
- الحسابات الموجودة
- القيود المحاسبية مع postings

راجع console logs للتحقق من البيانات.
