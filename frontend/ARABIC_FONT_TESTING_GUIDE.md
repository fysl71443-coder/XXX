# دليل اختبار الخط العربي في النظام

## نظرة عامة
تم تحديث نظام الطباعة ليدعم الخط العربي Amiri الذي تم تحميله. يتضمن هذا الدليل خطوات اختبار شاملة للتأكد من أن جميع التقارير تعرض النص العربي بشكل صحيح.

## الخطوات الأساسية للاختبار

### 1. الوصول إلى صفحة الاختبار
- افتح المتصفح وانتقل إلى: `http://localhost:3000/debug/arabic-font-test`
- أو من لوحة التحكم الرئيسية، اختر "اختبار الخط العربي"

### 2. التحقق من حالة الخطوط
قبل بدء الاختبار، تحقق من أن الخط Amiri متاح:
- يجب أن يظهر "Amiri-Regular.ttf: ✓ متاح" باللون الأخضر
- إذا لم يكن متاحاً، سيتم استخدام خط Cairo كخط احتياطي

### 3. اختبار جميع التقارير
اضغط على زر "اختبار جميع التقارير" لإنشاء ملفات PDF لجميع أنواع التقارير:

#### التقارير المحاسبية الأساسية:
- **سجل القيود اليومية**: يحتوي على جدول بالقيود مع الأرقام والتواريخ
- **أستاذ الحسابات**: يعرض حسابات الأستاذ العامة
- **ميزان المراجعة**: يعرض أرصدة الحسابات المدينة والدائنة
- **قائمة الدخل**: يعرض الإيرادات والمصاريف
- **الميزانية العمومية**: يعرض أصول والخصوم وحقوق الملكية

#### التقارير الإدارية:
- **تقرير الضريبة المضافة**: يعرض حسابات الضريبة
- **تقرير المخزون**: يعرض حالة المخزون
- **تقرير العملاء**: يعرض حسابات العملاء
- **تقرير الموردين**: يعرض حسابات الموردين
- **تقرير الرواتب**: يعرض رواتب الموظفين
- **تقرير المبيعات**: يعرض إجمالي المبيعات
- **تقرير المشتريات**: يعرض إجمالي المشتريات
- **تقرير نقاط البيع**: يعرض مبيعات نقاط البيع

### 4. التحقق من جودة النص العربي
عند فتح ملفات PDF، تأكد من:

#### ✅ ما يجب أن تراه:
- النص العربي يظهر بوضوح بدون مربعات أو رموز غريبة
- المحاذاة من اليمين إلى اليسار تعمل بشكل صحيح
- الأرقام العربية تظهر بالشكل الصحيح (١، ٢، ٣...)
- الحروف المتصلة تظهر بشكل صحيح (مثل: م ر ح ب ا)
- الجمل الطويلة لا تتقطع

#### ❌ ما لا يجب أن تراه:
- مربعات فارغة بدلاً من الحروف
- حروف منفصلة بدلاً من المتصلة
- نص معكوس أو غير مقروء
- أرقام لاتينية بدلاً من عربية

## اختبارات إضافية

### اختبار الخطوط البديلة
لاختبار خط Cairo كخط احتياطي:
1. أعد تسمية ملف `Amiri-Regular.ttf` مؤقتاً
2. أعد تشغيل الاختبار
3. يجب أن يعمل النظام مع خط Cairo بدون مشاكل

### اختبار المحتوى المختلط
اختبر التقارير التي تحتوي على نصوص عربية وإنجليزية معاً للتأكد من:
- المحاذاة الصحيحة للغتين
- حجم الخط المناسب للغتين
- عدم تداخل النصوص

## استكشاف الأخطاء وإصلاحها

### مشكلة: ظهور مربعات بدلاً من الحروف
**السبب**: الخط غير متاح أو غير مدعوم
**الحل**: تحقق من حالة الخطوط في صفحة الاختبار

### مشكلة: النص معكوس أو غير مقروء
**السبب**: مشكلة في محاذاة RTL
**الحل**: تحقق من إعدادات الاتجاه في ملف PDF

### مشكلة: الأرقام لاتينية بدلاً من عربية
**السبب**: إعدادات الأرقام الافتراضية
**الحل**: تأكد من استخدام الأرقام العربية في البيانات

## نتائج متوقعة
بعد اكتمال جميع الاختبارات بنجاح، يجب أن:
- تظهر جميع التقارير باللغة العربية بشكل صحيح
- يتم تحميل جميع ملفات PDF بدون أخطاء
- تكون جميع النصوص واضحة وقابلة للقراءة
- تعمل جميع أزرار الطباعة في النظام بشكل صحيح

## ملاحظات مهمة
- الخط Amiri هو الخط المفضل للنصوص العربية في التقارير المحاسبية
- يتم استخدام خط Cairo كخط احتياطي إذا لم يكن Amiri متاحاً
- جميع التقارير تم تحديثها لدعم النص العربي بشكل كامل
- يمكنك دائماً العودة إلى صفحة الاختبار للتحقق من أي تغييرات

## للمساعدة الفنية
إذا واجهت أي مشاكل أثناء الاختبار:
1. افحص وحدة التحكم في المتصفح للأخطاء
2. تحقق من أن ملف الخط موجود في المسار الصحيح
3. تأكد من أن جميع التبعيات مثبتة بشكل صحيح
4. أعد تشغيل خادم التطوير إذا لزم الأمر